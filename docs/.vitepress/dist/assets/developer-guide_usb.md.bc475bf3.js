import{o as e,c as t,a as o,b as r}from"./app.6f7ae0b0.js";import{_ as n,a,b as l}from"./thonny_upload.d42dd7b1.js";const i='{"title":"Homital-USB-Adapter","description":"","frontmatter":{},"headers":[{"level":2,"title":"Project Structure","slug":"project-structure"},{"level":2,"title":"Setup","slug":"setup"}],"relativePath":"developer-guide/usb.md","lastUpdated":1620548956324}',s={},d=o("h1",{id:"homital-usb-adapter"},[o("a",{class:"header-anchor",href:"#homital-usb-adapter","aria-hidden":"true"},"#"),r(" Homital-USB-Adapter")],-1),h=o("p",null,[o("a",{href:"https://github.com/Homital/Homital-USB-Adapter",target:"_blank",rel:"noopener noreferrer"},"GitHub")],-1),p=o("p",null,[r("Homital-USB-Adapter is a smart usb adapter of the Homital family. Like "),o("a",{href:"#homital-light"},"Homital-Light"),r(", Homital-USB-Adapter is also developed on top of "),o("a",{href:"https://www.espressif.com/en/products/socs/esp8266/overview",target:"_blank",rel:"noopener noreferrer"},"ESP8266"),r(" using "),o("a",{href:"https://micropython.org/",target:"_blank",rel:"noopener noreferrer"},"MicroPython"),r(". The software of Homital-USB-Adapter is a simplified version of that of Homital-Light.")],-1),u=o("h2",{id:"project-structure"},[o("a",{class:"header-anchor",href:"#project-structure","aria-hidden":"true"},"#"),r(" Project Structure")],-1),c=o("div",{class:"language-homital"},[o("pre",null,[o("code",null,".\n├── upython (MicroPython scripts)\n│   ├── lib (Dependencies)\n│   │   └── urequests.py (a buggy subset of the CPython requests library)\n│   ├── boot.py (the first script getting ran after startup)\n│   ├── db.py (local persistent storage functionalities)\n│   ├── homital.py (networking utilities)\n│   ├── main.py (the script executed right after boot.py)\n│   ├── np.py (switch functions)\n│   └── readcmd.py (Serial command processing functions)\n└── README.md (Project Summary)\n")])],-1),m=o("h2",{id:"setup"},[o("a",{class:"header-anchor",href:"#setup","aria-hidden":"true"},"#"),r(" Setup")],-1),f=o("ol",null,[o("li",null,[r("Prepare an ESP8266 development board ("),o("a",{href:"https://a.aliexpress.com/_dUiLPnV",target:"_blank",rel:"noopener noreferrer"},"the one we use"),r(") and a female USB connector.")]),o("li",null,"Connect the USB connector's positive power line to Pin 0 on the ESP8266 dev-board, and negative power line to GND pin on the dev-board."),o("li",null,[r("Clone the Git repository: "),o("code",null,"git clone https://github.com/Homital/Homital-Light.git"),r(".")]),o("li",null,"Connect The ESP8266 development board to your PC via a USB-TTL converter or FTDI adapter. If your dev board already has the chip soldered on it, simply use a USB cable."),o("li",null,[r("Download the latest MicroPython firmware from "),o("a",{href:"http://micropython.org/download/esp8266/",target:"_blank",rel:"noopener noreferrer"},"here"),r(".")]),o("li",null,[r("Install "),o("a",{href:"https://thonny.org/",target:"_blank",rel:"noopener noreferrer"},"Thonny Python IDE")]),o("li",null,[r("Open Thonny IDE, go to "),o("code",null,"Tools"),r(" -> "),o("code",null,"Options"),r(" -> "),o("code",null,"Interpreter"),r(" and select MicroPython(ESP8266) from the dropdown menu. Click on the button under "),o("code",null,"Firmware"),r(", choose your Port and the firmware you just downloaded and click on install.")])],-1),y=o("p",null,[o("img",{src:n,alt:"Thonny upload firmware"})],-1),g=o("ol",{start:"8"},[o("li",null,"Once the firmware has benn uploaded, close the dialog and you should see a Python shell at the bottom of Thonny window.")],-1),b=o("p",null,[o("img",{src:a,alt:"Python shell"})],-1),w=o("ol",{start:"9"},[o("li",null,[r("Then you can open the "),o("code",null,"/upython"),r(" folder in the Files panel of Thonny at the bottom left, and upload all files and directories to the dev-board, as shown below.")])],-1),v=o("p",null,[o("img",{src:l,alt:"Upload python files"})],-1),P=o("ol",{start:"10"},[o("li",null,[r("Now you have set up a new Homital-USB-Adapter! Reset the devboard and you are ready to go. To configure the device to work with the Homital system, refer to "),o("a",{href:"/user-guide/#homital-smart-device-configuration"},"User Guide"),r(".")])],-1);s.render=function(o,r,n,a,l,i){return e(),t("div",null,[d,h,p,u,c,m,f,y,g,b,w,v,P])};export default s;export{i as __pageData};
